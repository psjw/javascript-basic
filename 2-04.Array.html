<!DOCTYPE html>
<html>

<head>
    <title>Document</title>
</head>

<body>
    <div id="div1"></div>
    <br>
    <div id="div2"></div>
    <script>
        //toString()
        var fruits = ["Banana", "Orange", "Apple"];
        console.log(fruits.toString());

        //join()
        console.log(fruits.join(" * "));
        var txt = "Banana<br>";
        txt += "Orange<br>";
        txt += "Apple<br>";

        //push가 훨씬 빠름
        var arr = [];
        arr.push("Banana");
        arr.push("Orange");
        arr.push("Apple");

        document.getElementById("div1").innerHTML = txt;
        document.getElementById("div2").innerHTML = arr.join("<br>");

        //pop() 배열의 가장 마지막 Element를 반환 후 제거
        //pop() 하면, 제거된 element를 리턴 함.
        var str = fruits.pop();
        console.log(str);
        console.log(fruits);

        //push() 배열의 마지막에 새 Element를 추가
        fruits.push("Kiwi");
        console.log(fruits);

        //shift() 배열의 첫번째 Element를 제거
        //shift() 리턴으로 제거된 Element를 반환
        var str = fruits.shift();
        console.log(str);
        console.log(fruits);

        //unshift() 배열의 첫번째에 새 Element를 추가
        fruits.unshift("Lemon");
        console.log(fruits);

        fruits[0] = "Banana";
        console.log(fruits);

        fruits[fruits.length - 1] = "Lemon";
        console.log(fruits);

        //splice()
        //첫번째 - 시작위치
        //두번째 - 삭제할 Element의 수
        //세번째~ - 추가할 것

        var fruits = ["Banana", "Orange", "Apple"];
        fruits.splice(1, 1); //Orange삭제
        console.log(fruits);

        var fruits = ["Banana", "Orange", "Apple"];
        fruits.splice(1, 1, "Lemon", "Kiwi"); //Orange삭제
        console.log(fruits);



        //slice(시작점, 끝점) : 그부분만 잘라서 가져옴
        var fruits2 = fruits.slice(1, 2);
        console.log(fruits2);

        var fruits2 = fruits.slice(1); //끝점없으면 시작점부터 모두
        console.log(fruits2);

        //sort() 오름차순 정렬
        console.log(fruits.sort());

        //문자로 인식하여 정렬
        var point = [40, 100, 70, 21, 99];
        console.log(point.sort());
        var point = ["40", "100", "70", "21", "99"];
        console.log(point.sort());

        var point = [40, 100, 70, 21, 99];
        //정렬조건을 함수로 변경
        //오름차순
        point.sort(function (a, b) {
            if (a > b) {
                return 1;
            } else if (a < b) {
                return -1;
            } else {
                return 0;
            }
        });
        console.log(point);

        //내림차순
        point.sort(function (a, b) {
            if (a > b) {
                return -1;
            } else if (a < b) {
                return 1;
            } else {
                return 0;
            }
        });
        console.log(point);


        //오름차순
        point.sort(function (a, b) {
            return a - b;
        });
        console.log(point);

        //내림차순
        point.sort(function (a, b) {
            return b - a;
        });
        console.log(point);

        //배열의 Object 정렬
        var persons = [{
                name: "유재석",
                point: 78
            },
            {
                name: "김종국",
                point: 92
            },
            {
                name: "양세찬",
                point: 76
            },
            {
                name: "하하",
                point: 81
            }
        ];

        //오름차순
        persons.sort(function (a, b) {
            return a.point - b.point;
        });
        console.log(persons);

        //오름차순
        persons.sort(function (a, b) {
            return a.point > b.point ? 1 : a.point < b.point ? -1 : 0;
        });
        console.log(persons);

        console.log("###");

        //내림차순
        persons.sort(function (a, b) {
            return b.point - a.point;
        });
        console.log(persons);

        console.log("###");


        //revers() : 순서를 반대로 뒤집음
        console.log(point);
        point.reverse();
        console.log(point);

        //filter() 조건에 맞는 배열만 리턴
        var persons = [{
                name: "유재석",
                point: 78,
                city: "서울"
            },
            {
                name: "김종국",
                point: 92,
                city: "서울"
            },
            {
                name: "양세찬",
                point: 76,
                city: "제주"
            },
            {
                name: "하하",
                point: 81,
                city: "서울"
            }
        ];

        var pass = persons.filter(function (person) {
            return person.point > 80;
        });

        console.log(pass);

        var jeju = [];
        for (var i = 0; i < persons.length; i++) {
            if (persons[i].city == "제주") {
                jeju.push(persons[i]);
            }
        }
        console.log(jeju);


        var jeju = persons.filter(function (person) {
            return person.city == "제주";
        });
        console.log(jeju);

        //concat() 배열을 합침
        var myBoys = ["Eunhyeok"];
        var myGirls = ["Eunseo", "Eunsol"];
        var myChildren = myBoys.concat(myGirls);
        console.log(myChildren);

        // reduce
        // 파라미터를 4개를 가질 수 있음
        // a: accumulator - 누산기 (반환된 값이 누적됨)
        // c: currentValue - 배열을 읽으면서 현재값 
        // i: 현재 읽고 있는 index값(생략가능)
        // arr : 전체 배열을 리턴
        var arr1 = [1, 2, 3, 4];
        var total = 0;
        for (var x of arr1) {
            total += x;
        }
        console.log(total);

        var total = arr1.reduce(function (a, c, i, arr) {
            console.log(arr);
            return a + c;
        });
        console.log(total);

        // map List 안의 Object를 새롭게 구성
        var userList = [{
                firstName: "재석",
                lastName: "유",
                email: "yu@test.com"
            },
            {
                firstName: "종국",
                lastName: "김",
                email: "kim@test.com"
            },
            {
                firstName: "세찬",
                lastName: "양",
                email: "yang@test.com"
            },
            {
                firstName: "석진",
                lastName: "지",
                email: "ji@test.com"
            }
        ];
        var userList2 = userList.map(function (user) {
            return {
                firstName: user.firstName,
                lastName: user.lastName,
                email: user.email,
                fullName: user.lastName + user.firstName
            }
        });
        console.log(userList2);
    </script>
</body>

</html>